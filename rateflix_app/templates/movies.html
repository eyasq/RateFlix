{% extends 'base.html' %}
{% block title %}Movies{% endblock %}
{% block content %}

        <header class="bg-dark py-5">

        </header>
        

        <div class="container my-5">
            <span class="mb-5">Sort By: <select name="" id=""></select></span>
          <div class="row" id="movies-container">
            {% for movie in movies %}
            <div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-4">
              <div class="card h-100 mt-3">
                <img src="https://image.tmdb.org/t/p/w600_and_h900_bestv2/{{movie.poster_path}}" class="card-img-top" alt="{{movie.title}}">
                <div class="card-body">
                    <small class="card-text text-muted">{{movie.release_date|slice:4}}</small>

                  <h5 class="card-title">{{movie.title}}</h5>
                  <h5 class="card-title">ID: {{movie.id}}</h5>

                  <p class="card-text">{{movie.overview|truncatechars:100}}</p> <!-- trunatechars to maintain same height for all posters-->
                  <a href="/movies/{{movie.id}}" class="btn btn-primary">Details</a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
          <button id="load-more" data-next-page="{{next_page}}" class="btn btn-secondary m-3">Load More</button>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="../static/js/loadMore.js"></script>
{% endblock %}